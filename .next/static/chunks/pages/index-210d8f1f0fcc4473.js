(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5557:function(e,a,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return t(495)}])},495:function(e,a,t){"use strict";t.r(a),t.d(a,{default:function(){return f}});var n=t(5893),o=t(7294),s=t(6507),r=t(9647),l=t.n(r),i=t(2091),c=t(5621);function d(e){let{song:a,onInfoLoaded:t}=e,[n,s]=(0,o.useState)(!0),[r,l]=(0,o.useState)(null);return(0,o.useEffect)(()=>{async function e(){try{let e=await (0,c.mo)(a.title,a.game),n={...a,artist:e.artist||a.artist,year:e.year||a.year,album:e.album||a.album,console:e.console||a.console};t(n)}catch(e){console.error("Erro ao buscar informa\xe7\xf5es:",e),l(e.message),t(a)}finally{s(!1)}}a&&e()},[a]),null}var u=t(238),m=t(9603),g=t(9417),p=t(5581),h=t.n(p),_=t(4746),v=t(1163),x=e=>{let{isOpen:a,onClose:t}=e,{t:s,language:r,changeLanguage:l,isClient:i}=(0,_.Z)(),c=(0,v.useRouter)(),[d,u]=(0,o.useState)({howToPlay:!1,settings:!1,errorReport:!1}),[p,x]=(0,o.useState)({description:"",email:"",submitting:!1,submitted:!1,error:null}),f=e=>{u(a=>({...a,[e]:!a[e]}))},[j,y]=(0,o.useState)({daltonicMode:!1,sound:!0,animations:!0,language:"pt-BR"});(0,o.useEffect)(()=>{let e=localStorage.getItem("bandle_settings");if(e)try{let a=JSON.parse(e);console.log("Configura\xe7\xf5es carregadas no GameMenu:",a),y(e=>({...e,...a})),a.language&&a.language!==r&&(console.log("Sincronizando idioma com o contexto:",a.language),l(a.language))}catch(e){console.error("Erro ao carregar configura\xe7\xf5es:",e)}},[r,l]);let b=e=>{let a={...j,[e]:!j[e]};y(a),localStorage.setItem("bandle_settings",JSON.stringify(a)),S(a),console.log("Setting changed: ".concat(e," = ").concat(a[e]))},S=e=>{console.log("Aplicando configura\xe7\xf5es:",e),e.daltonicMode?document.body.classList.add("daltonism"):document.body.classList.remove("daltonism"),document.querySelectorAll("audio").forEach(a=>{a.muted=!e.sound,e.sound&&0===a.volume&&(a.volume=.7)}),e.animations?document.body.classList.remove("no-animations"):document.body.classList.add("no-animations");let a=new CustomEvent("bandleSettingsChanged",{detail:e});document.dispatchEvent(a)};(0,o.useEffect)(()=>{S(j),console.log("Configura\xe7\xf5es iniciais aplicadas:",j);let e=()=>{let e=localStorage.getItem("bandle_settings");if(e)try{let a=JSON.parse(e);y(a),console.log("Configura\xe7\xf5es externas carregadas:",a)}catch(e){console.error("Erro ao carregar configura\xe7\xf5es externas:",e)}};return window.addEventListener("storage",e),()=>{window.removeEventListener("storage",e)}},[]),(0,o.useEffect)(()=>{S(j),console.log("Configura\xe7\xf5es atualizadas:",j)},[j]);let N=e=>{let{name:a,value:t}=e.target;x(e=>({...e,[a]:t}))},C=async e=>{if(e.preventDefault(),!p.description.trim()){x(e=>({...e,error:"Por favor, descreva o erro encontrado."}));return}x(e=>({...e,submitting:!0,error:null}));try{let e=encodeURIComponent("Relat\xf3rio de Erro - Bandle"),a=encodeURIComponent("Descri\xe7\xe3o do erro: ".concat(p.description,"\n\nEmail para contato: ").concat(p.email||"N\xe3o informado"));window.location.href="mailto:andreibonatto8@gmail.com?subject=".concat(e,"&body=").concat(a),setTimeout(()=>{x({description:"",email:"",submitting:!1,submitted:!0,error:null})},1e3)}catch(e){x(e=>({...e,submitting:!1,error:"Erro ao enviar o relat\xf3rio. Por favor, tente novamente."}))}};return a?(0,n.jsx)("div",{className:h().menuOverlay,children:(0,n.jsxs)("div",{className:h().menuContainer,children:[(0,n.jsx)("button",{className:h().closeButton,onClick:t,children:"\xd7"}),(0,n.jsx)("div",{className:h().menuSection,children:(0,n.jsxs)("button",{className:h().menuSectionHeader,onClick:()=>{t(),c.push("/multiplayer")},style:{justifyContent:"center"},children:[(0,n.jsx)(m.G,{icon:g.FVb,className:h().menuIcon}),(0,n.jsx)("span",{children:i?s("multiplayer"):"Multiplayer"})]})}),(0,n.jsxs)("div",{className:h().menuSection,children:[(0,n.jsxs)("button",{className:h().menuSectionHeader,onClick:()=>f("howToPlay"),children:[(0,n.jsx)(m.G,{icon:g.Fuz,className:h().menuIcon}),(0,n.jsx)("span",{children:i?s("menu_how_to_play"):"Como jogar"}),(0,n.jsx)("span",{className:h().expandIcon,children:d.howToPlay?"▼":"▶"})]}),d.howToPlay&&(0,n.jsxs)("div",{className:h().menuSectionContent,children:[(0,n.jsx)("p",{children:i?s("how_to_play_1"):"1. Clique play para ouvir um trecho da m\xfasica."}),(0,n.jsx)("p",{children:i?s("how_to_play_2"):"2. Procure pela m\xfasica que voc\xea acha que o trecho pertence."}),(0,n.jsx)("p",{children:i?s("how_to_play_3"):"3. Clique skip para passar para o pr\xf3ximo trecho."}),(0,n.jsx)("p",{children:i?s("how_to_play_4"):"4. Se voc\xea errar, revelaremos um trecho adicional da m\xfasica para ajudar."}),(0,n.jsx)("p",{children:i?s("how_to_play_5"):"5. Voc\xea tem 6 tentativas no total."})]})]}),(0,n.jsxs)("div",{className:h().menuSection,children:[(0,n.jsxs)("button",{className:h().menuSectionHeader,onClick:()=>f("settings"),children:[(0,n.jsx)(m.G,{icon:g.b7W,className:h().menuIcon}),(0,n.jsx)("span",{children:i?s("menu_settings"):"Configura\xe7\xf5es"}),(0,n.jsx)("span",{className:h().expandIcon,children:d.settings?"▼":"▶"})]}),d.settings&&(0,n.jsxs)("div",{className:h().menuSectionContent,children:[(0,n.jsxs)("div",{className:h().settingItem,children:[(0,n.jsx)("label",{htmlFor:"daltonicMode",onClick:()=>b("daltonicMode"),style:{cursor:"pointer"},children:i?s("settings_colorblind"):"Modo dalt\xf4nico"}),(0,n.jsxs)("div",{className:h().toggleSwitch,onClick:()=>b("daltonicMode"),children:[(0,n.jsx)("input",{type:"checkbox",id:"daltonicMode",checked:j.daltonicMode,onChange:()=>{}}),(0,n.jsx)("span",{className:h().slider})]})]}),(0,n.jsxs)("div",{className:h().settingItem,children:[(0,n.jsx)("label",{htmlFor:"sound",onClick:()=>b("sound"),style:{cursor:"pointer"},children:i?s("settings_sound"):"Sons"}),(0,n.jsxs)("div",{className:h().toggleSwitch,onClick:()=>b("sound"),children:[(0,n.jsx)("input",{type:"checkbox",id:"sound",checked:j.sound,onChange:()=>{}}),(0,n.jsx)("span",{className:h().slider})]})]}),(0,n.jsxs)("div",{className:h().settingItem,children:[(0,n.jsx)("label",{htmlFor:"animations",onClick:()=>b("animations"),style:{cursor:"pointer"},children:i?s("settings_animations"):"Anima\xe7\xf5es"}),(0,n.jsxs)("div",{className:h().toggleSwitch,onClick:()=>b("animations"),children:[(0,n.jsx)("input",{type:"checkbox",id:"animations",checked:j.animations,onChange:()=>{}}),(0,n.jsx)("span",{className:h().slider})]})]}),(0,n.jsxs)("div",{className:h().settingItem,children:[(0,n.jsx)("label",{htmlFor:"language",children:i?s("settings_language"):"Idioma"}),(0,n.jsxs)("select",{id:"language",className:h().selectInput,value:j.language,onChange:e=>{let a=e.target.value,t={...j,language:a};localStorage.setItem("bandle_settings",JSON.stringify(t)),console.log("Configura\xe7\xf5es salvas no localStorage:",t),document.cookie="bandle_language=".concat(a,"; path=/; max-age=31536000"),console.log("Cookie de idioma definido:",a),y(t),l(a),setTimeout(()=>{console.log("Recarregando a p\xe1gina com o idioma:",a),window.location.reload()},500),console.log("Idioma alterado para: ".concat(a))},children:[(0,n.jsx)("option",{value:"pt-BR",children:"Portugu\xeas (Brasil)"}),(0,n.jsx)("option",{value:"en-US",children:"English (US)"}),(0,n.jsx)("option",{value:"es",children:"Espa\xf1ol"})]})]})]})]}),(0,n.jsxs)("div",{className:h().menuSection,children:[(0,n.jsxs)("button",{className:h().menuSectionHeader,onClick:()=>f("errorReport"),children:[(0,n.jsx)(m.G,{icon:g.QLU,className:h().menuIcon}),(0,n.jsx)("span",{children:i?s("error_report_title"):"Relat\xf3rio de erro"}),(0,n.jsx)("span",{className:h().expandIcon,children:d.errorReport?"▼":"▶"})]}),d.errorReport&&(0,n.jsxs)("div",{className:h().menuSectionContent,children:[(0,n.jsx)("p",{children:"Encontrou um bug? Informe-nos para que possamos corrigi-lo."}),p.submitted?(0,n.jsxs)("div",{className:h().successMessage,children:[(0,n.jsx)("p",{children:"Obrigado pelo seu relat\xf3rio!"}),(0,n.jsx)("p",{children:"Sua mensagem foi enviada com sucesso."}),(0,n.jsx)("button",{className:h().actionButton,onClick:()=>x(e=>({...e,submitted:!1})),children:"Enviar outro relat\xf3rio"})]}):(0,n.jsxs)("form",{onSubmit:C,className:h().errorReportForm,children:[(0,n.jsxs)("div",{className:h().formGroup,children:[(0,n.jsx)("label",{htmlFor:"description",children:"Descri\xe7\xe3o do erro:"}),(0,n.jsx)("textarea",{id:"description",name:"description",value:p.description,onChange:N,placeholder:"Descreva o problema que voc\xea encontrou...",rows:4,className:h().textArea,required:!0})]}),(0,n.jsxs)("div",{className:h().formGroup,children:[(0,n.jsx)("label",{htmlFor:"email",children:"Seu email (opcional):"}),(0,n.jsx)("input",{type:"email",id:"email",name:"email",value:p.email,onChange:N,placeholder:"Seu email para contato (opcional)",className:h().textInput})]}),p.error&&(0,n.jsx)("div",{className:h().errorMessage,children:p.error}),(0,n.jsxs)("button",{type:"submit",className:h().submitButton,disabled:p.submitting,children:[p.submitting?"Enviando...":"Enviar Relat\xf3rio",(0,n.jsx)(m.G,{icon:g.XCy,className:h().submitIcon})]})]})]})]})]})}):null};function f(){var e;let{t:a,language:t,isClient:r}=(0,_.Z)(),[m,g]=(0,o.useState)(null),[p,h]=(0,o.useState)(""),[v,f]=(0,o.useState)(""),[j,y]=(0,o.useState)(!1),[b,S]=(0,o.useState)(0),[N,C]=(0,o.useState)(!1),[I,E]=(0,o.useState)(!0),[M,w]=(0,o.useState)(1),[k,D]=(0,o.useState)(!1),[L,G]=(0,o.useState)([]),[B,T]=(0,o.useState)(.3),[O,R]=(0,o.useState)(!1),[F,q]=(0,o.useState)([]),[A,P]=(0,o.useState)(!1),[H,z]=(0,o.useState)(0),[J,V]=(0,o.useState)(0),[U,X]=(0,o.useState)(0),[W,Z]=(0,o.useState)(null),K=(0,o.useRef)(null),[Y,Q]=(0,o.useState)(0),$=(0,o.useRef)(null),[ee,ea]=(0,o.useState)(!1),[et,en]=(0,o.useState)(!1),[eo,es]=(0,o.useState)(null),[er,el]=(0,o.useState)(!1),[ei,ec]=(0,o.useState)(""),[ed,eu]=(0,o.useState)(!1),em=[.6,1.2,2,3,3.5,4.2],eg=(0,o.useRef)(M),ep=(e,a)=>31*a%997/997*Math.max(0,e-10);(0,o.useEffect)(()=>{(async()=>{let e,a;E(!0);try{e=await (0,c.Vx)()}catch(a){e={datetime:new Date().toISOString(),fallback:!0}}let t=new Date(e.datetime),n=new Date(t.getFullYear(),0,0),o=Math.floor((t-n+(n.getTimezoneOffset()-t.getTimezoneOffset())*6e4)/864e5);es(o);let r="bandle_daily_song_day_".concat(o),l=localStorage.getItem(r);if(l)a=s.x.find(e=>e.id===parseInt(l))||s.x[0];else{let e=Math.floor(Math.random()*s.x.length);a=s.x[e],localStorage.setItem(r,a.id.toString());for(let e=0;e<localStorage.length;e++){let a=localStorage.key(e);a&&a.startsWith("bandle_daily_song_day_")&&parseInt(a.replace("bandle_daily_song_day_",""))<o-2&&localStorage.removeItem(a)}}g(a);let i=new Date(t);i.setHours(24,0,0,0),Z(i-t),E(!1)})()},[]),(0,o.useEffect)(()=>{if(null===W)return;let e=setInterval(()=>{Z(e=>e>1e3?e-1e3:(window.location.reload(),0))},1e3);return()=>clearInterval(e)},[W]);let eh=()=>{if(K.current&&null!==eo){let e;let a=K.current.duration||0;V(a);let t="bandle_start_time_day_".concat(eo),n=localStorage.getItem(t);n?e=parseFloat(n):(e=ep(a,eo),localStorage.setItem(t,e.toString())),X(e),K.current.currentTime=e;let o=localStorage.getItem("bandle_settings");if(o)try{let e=JSON.parse(o);K.current.muted=!e.sound}catch(e){console.error("Erro ao aplicar configura\xe7\xf5es de som:",e)}C(!1),"Erro ao carregar o \xe1udio. Verifique se o arquivo existe."===v&&f("")}};(0,o.useEffect)(()=>{let e=K.current;if(!e)return;let a=j?15:em[b]||em[em.length-1],t=null,n=()=>{let n=e.currentTime-U;if(!j&&n>=a)e.pause(),P(!1),e.currentTime=U,z(0);else if(j&&n>=15){if(!t){let a=0;eg.current=e.volume,t=setInterval(()=>{a++,e.volume=eg.current*(1-a/10),a>=10&&(clearInterval(t),e.pause(),P(!1),e.currentTime=U,z(0),e.volume=eg.current)},100)}}else z(n)},o=()=>{let n=e.currentTime-U;if(!j&&n>=a)e.pause(),P(!1),e.currentTime=U,z(0);else if(j&&n>=15){if(!t){let a=0;eg.current=e.volume,t=setInterval(()=>{a++,e.volume=eg.current*(1-a/10),a>=10&&(clearInterval(t),e.pause(),P(!1),e.currentTime=U,z(0),e.volume=eg.current)},100)}}else P(!e.paused)};return e.addEventListener("timeupdate",n),e.addEventListener("play",o),e.addEventListener("pause",o),e.addEventListener("loadedmetadata",eh),()=>{e.removeEventListener("timeupdate",n),e.removeEventListener("play",o),e.removeEventListener("pause",o),e.removeEventListener("loadedmetadata",eh),t&&clearInterval(t)}},[K.current,U,j,b]),(0,o.useEffect)(()=>{K.current&&(K.current.volume=M)},[M]);let e_=e=>{let t=b+1;S(t),D(!1),h("");let n=null;e.toLowerCase()===m.title.toLowerCase()?(f(a("congratulations")),y(!0),n={type:"success",value:e}):(t>=6?(f("".concat(a("game_over")," ").concat(m.game," - ").concat(m.title)),y(!0)):(f(a("try_again")),R(!0)),n={type:"fail",value:e}),q(e=>[...e,n])},ev=e=>e.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().replace(/[^a-z0-9]/g,""),ex=(e,a)=>{let t=ev(e.title),n=ev(e.game),o=ev(e.artist),s=ev(a);return t.includes(s)?1:n.includes(s)?2:o.includes(s)?3:4},ef=e=>{if(e.length>0){let a=e.trim().split(/\s+/).filter(e=>e.length>0).map(e=>ev(e)).filter(e=>e.length>1);if(0===a.length)return G([]),D(!1),[];let t=s.x.filter(e=>{let t=ev(e.title),n=ev(e.game),o=ev(e.artist);return a.some(e=>t.includes(e)||n.includes(e)||o.includes(e))}).sort((a,t)=>{let n=ex(a,e),o=ex(t,e);if(n!==o)return n-o;let s=ev(a.game).localeCompare(ev(t.game));return 0!==s?s:ev(a.title).localeCompare(ev(t.title))});G(t),D(t.length>0)}else G([]),D(!1);return[]},ej=e=>{h(e.title),D(!1)};function ey(e,a){if(!e||0===a)return null;if(1===a){let e="".concat((Math.floor(J/60)||0).toString().padStart(2,"0"),":").concat((Math.floor(J%60)||0).toString().padStart(2,"0"));return"Dura\xe7\xe3o: ".concat(e)}return 2===a?"Ano de lan\xe7amento: ".concat(e.year):3===a?"Artista: ".concat(e.artist):4===a?"Console: ".concat(e.console||"Desconhecido"):a>=5?"Franquia: ".concat(e.game):null}(0,o.useEffect)(()=>{T(.3+.2*Y),K.current&&(K.current.currentTime=U,K.current.pause(),z(0),P(!1))},[Y,U]),(0,o.useEffect)(()=>{Q(b),K.current&&(K.current.currentTime=U,K.current.pause(),z(0),P(!1))},[b,U]),(0,o.useEffect)(()=>{(null==m?void 0:m.audioUrl)&&(C(!1),"Erro ao carregar o \xe1udio. Verifique se o arquivo existe."===v&&f(""))},[null==m?void 0:m.audioUrl,v]),(0,o.useEffect)(()=>{let e=e=>{if("INPUT"===e.target.tagName)return;let a=ei+e.key.toLowerCase();if(ec(a),a.includes("sacabambapis")){console.log("\uD83C\uDF89 C\xf3digo secreto ativado!"),eu(!0);let e=new Audio("/vine.mp3");e.volume=.7,e.play().catch(e=>console.log("Erro ao tocar vine boom:",e)),setTimeout(()=>{if(null!==eo){let e="bandle_daily_song_day_".concat(eo);localStorage.removeItem(e)}window.location.reload()},2e3)}a.length>20&&ec("")};return document.addEventListener("keypress",e),()=>document.removeEventListener("keypress",e)},[ei,eo]);let eb=e=>{if(null!==eo){let a={day:eo,attempts:e.attempts,history:e.history,message:e.message,gameOver:e.gameOver,showHint:e.showHint,activeHint:e.activeHint,currentClipDuration:e.currentClipDuration,timestamp:Date.now()};console.log("\uD83C\uDFAE Salvando estado do jogo:",a),localStorage.setItem("bandle_game_state_day_".concat(eo),JSON.stringify(a)),e.gameOver&&(localStorage.setItem("bandle_gameover_day",eo),localStorage.setItem("bandle_gameover_history",JSON.stringify(e.history)),localStorage.setItem("bandle_gameover_message",e.message))}},[eS,eN]=(0,o.useState)(!1);(0,o.useEffect)(()=>{null!==eo&&eS&&eb({attempts:b,history:F,message:v,gameOver:j,showHint:O,activeHint:Y,currentClipDuration:B})},[b,F,v,j,O,Y,B,eo,eS]);let eC=e=>{let a=["bandle_start_time_day_".concat(e),"bandle_start_time_day_".concat(e-1),"bandle_start_time_day_".concat(e-2),"bandle_game_state_day_".concat(e),"bandle_game_state_day_".concat(e-1),"bandle_game_state_day_".concat(e-2),"bandle_daily_song_day_".concat(e),"bandle_daily_song_day_".concat(e-1),"bandle_daily_song_day_".concat(e-2),"bandle_gameover_day","bandle_gameover_history","bandle_gameover_message","bandle_settings"];for(let e=0;e<localStorage.length;e++){let t=localStorage.key(e);t&&t.startsWith("bandle_")&&!a.includes(t)&&localStorage.removeItem(t)}};return((0,o.useEffect)(()=>{if(null!==eo){if(eC(eo),!(()=>{console.log("\uD83D\uDD0D Tentando carregar estado do jogo para o dia:",eo);let e=localStorage.getItem("bandle_game_state_day_".concat(eo));if(console.log("\uD83D\uDCE6 Estado salvo encontrado:",e),e)try{let a=JSON.parse(e);if(console.log("\uD83D\uDCCB Estado parseado:",a),a.day===eo)return console.log("✅ Carregando estado do jogo..."),S(a.attempts||0),q(a.history||[]),f(a.message||""),y(a.gameOver||!1),R(a.showHint||!1),Q(a.activeHint||0),T(a.currentClipDuration||.3),console.log("\uD83C\uDFAF Estado carregado com sucesso!"),!0;console.log("❌ Dia n\xe3o confere:",a.day,"vs",eo)}catch(e){console.error("❌ Erro ao carregar estado do jogo:",e)}else console.log("\uD83D\uDCED Nenhum estado salvo encontrado");return!1})()){let e=localStorage.getItem("bandle_gameover_day");if(e&&Number(e)===eo){y(!0);let e=localStorage.getItem("bandle_gameover_history");e&&q(JSON.parse(e));let a=localStorage.getItem("bandle_gameover_message");a&&f(a)}}eN(!0)}},[eo]),(0,o.useEffect)(()=>{let e=()=>{let e=localStorage.getItem("bandle_settings");if(e)try{let a=JSON.parse(e);console.log("Aplicando configura\xe7\xf5es no componente principal:",a),a.daltonicMode?document.body.classList.add("daltonism"):document.body.classList.remove("daltonism"),K.current&&(K.current.muted=!a.sound),a.animations?document.body.classList.remove("no-animations"):document.body.classList.add("no-animations"),a.language&&(document.documentElement.lang=a.language)}catch(e){console.error("Erro ao aplicar configura\xe7\xf5es:",e)}};e();let a=e=>{console.log("Evento de mudan\xe7a de configura\xe7\xf5es recebido:",e.detail),e.detail&&(e.detail.daltonicMode?document.body.classList.add("daltonism"):document.body.classList.remove("daltonism"),K.current&&(K.current.muted=!e.detail.sound,e.detail.sound&&0===K.current.volume&&(K.current.volume=.7)),e.detail.animations?document.body.classList.remove("no-animations"):document.body.classList.add("no-animations"),e.detail.language&&(document.documentElement.lang=e.detail.language))};return document.addEventListener("bandleSettingsChanged",a),window.addEventListener("storage",e),()=>{document.removeEventListener("bandleSettingsChanged",a),window.removeEventListener("storage",e)}},[]),I)?(0,n.jsx)("div",{className:l().container,children:(0,n.jsx)("div",{className:l().loading,children:r?a("loading"):"Carregando..."})}):(0,n.jsxs)("div",{style:{display:"flex",flexDirection:"column",minHeight:"100vh"},children:[(0,n.jsxs)("div",{className:l().darkBg,style:{flex:1,display:"flex",flexDirection:"column"},children:[(0,n.jsxs)("div",{className:l().topBar,children:[(0,n.jsxs)("div",{className:l().titleBarContainer,children:[(0,n.jsx)("button",{className:l().menuButton,onClick:()=>el(!0),"aria-label":"Menu",children:(0,n.jsx)(i.Fm7,{size:24})}),(0,n.jsx)("img",{src:"/Logo.png",alt:"Logo",className:l().logo}),(0,n.jsx)("button",{className:l().helpButton,onClick:()=>ea(!0),"aria-label":"Ajuda",children:(0,n.jsx)(i.MXt,{size:24})})]}),ey(m,Y)&&!j&&(0,n.jsxs)("div",{className:l().hintBoxModern,style:{marginTop:12,marginBottom:0,maxWidth:420,textAlign:"center"},children:[(0,n.jsx)("strong",{children:"Dica:"})," ",ey(m,Y)]})]}),ee&&(0,n.jsx)("div",{className:l().modalOverlay,children:(0,n.jsxs)("div",{className:l().modal,children:[(0,n.jsx)("button",{className:l().closeButton,onClick:()=>ea(!1),children:"\xd7"}),(0,n.jsx)("h2",{children:"Como Jogar"}),(0,n.jsxs)("div",{className:l().modalContent,children:[(0,n.jsx)("p",{children:"1. Clique play para ouvir um trecho da m\xfasica."}),(0,n.jsx)("p",{children:"2. Procure pela m\xfasica que voc\xea acha que o trecho pertence."}),(0,n.jsx)("p",{children:"3. Clique skip para passar para o pr\xf3ximo trecho."}),(0,n.jsx)("p",{children:"4. Se voc\xea errar, revelaremos um trecho adicional da m\xfasica para ajudar."}),(0,n.jsx)("p",{children:"5. Voc\xea tem 6 tentativas no total."}),(0,n.jsx)("p",{children:"Aviso: Ap\xf3s dar play na musica, ela pode demorar um pouco para carregar, \xe9 normal"}),(0,n.jsxs)("div",{className:l().legendBox,children:[(0,n.jsxs)("div",{className:l().legendItem,children:[(0,n.jsx)("span",{className:l().legendCorrect,children:"✅"})," = Correto"]}),(0,n.jsxs)("div",{className:l().legendItem,children:[(0,n.jsx)("span",{className:l().legendIncorrect,children:"❌"})," = Incorreto"]}),(0,n.jsxs)("div",{className:l().legendItem,children:[(0,n.jsx)("span",{className:l().legendFromGame,children:"▲"})," = M\xfasica errada, mas do jogo correto"]})]}),(0,n.jsx)("p",{className:l().goodLuck,children:"Boa Sorte!"})]})]})}),(0,n.jsxs)("div",{className:l().gameAreaModern,children:[(0,n.jsx)("div",{className:l().audioModernBox,children:(0,n.jsxs)("div",{className:l().customAudioPlayer,children:[(0,n.jsxs)("div",{className:l().audioPlayerRow,children:[(0,n.jsx)("span",{className:l().audioTime,children:new Date(1e3*H).toISOString().substring(14,19)}),(0,n.jsx)("input",{type:"range",min:0,max:em[b]||em[em.length-1],step:.01,value:H,onChange:e=>{let a=Number(e.target.value);if(!A){a=0,K.current&&(K.current.currentTime=U),z(0);return}(a>em[b]||a>em[em.length-1])&&(a=em[b]||em[em.length-1]),K.current&&(K.current.currentTime=U+a,z(a))},className:l().audioSeekbarCustom,disabled:j||N||!J}),(0,n.jsx)("span",{className:l().audioTime,style:{marginLeft:10},children:J?new Date((null!==(e=em[b])&&void 0!==e?e:em[em.length-1])*1e3).toISOString().substring(14,19):"00:00"})]}),(0,n.jsxs)("div",{className:l().audioVolumeRow,children:[(0,n.jsx)("button",{className:l().audioPlayBtnCustom,onClick:()=>{if(!K.current)return;let e=K.current.currentTime-U;(e>=em[b]||e>=em[em.length-1])&&(K.current.currentTime=U,z(0)),A?K.current.pause():K.current.play()},disabled:N||!J,children:A?(0,n.jsx)(i.Wh,{color:"#fff",size:20}):(0,n.jsx)(i.gmG,{color:"#fff",size:20})}),(0,n.jsx)(i.rxG,{color:"#fff",style:{marginRight:8}}),(0,n.jsx)("input",{type:"range",min:0,max:1,step:.01,value:M,onChange:e=>w(Number(e.target.value)),className:l().audioVolumeCustom,disabled:N})]}),(0,n.jsx)("audio",{ref:K,src:null==m?void 0:m.audioUrl,style:{display:"none"},onLoadedMetadata:eh,onEnded:()=>{P(!1)},onError:()=>{C(!0),f("Erro ao carregar o \xe1udio. Verifique se o arquivo existe.")},onCanPlay:()=>{C(!1),"Erro ao carregar o \xe1udio. Verifique se o arquivo existe."===v&&f("")}})]})}),(0,n.jsxs)("div",{className:l().attemptsRow,children:[[...Array(6)].map((e,a)=>{let t=l().attemptInactive;if(F[a]){if("success"===F[a].type)t=l().attemptSuccess;else if("fail"===F[a].type){var o,r;t=(null===(o=F[a])||void 0===o?void 0:o.type)==="fail"&&(null==m?void 0:m.game)&&(null===(r=s.x.find(e=>e.title===F[a].value))||void 0===r?void 0:r.game)===m.game?l().attemptGame:l().attemptFail}else"skipped"===F[a].type&&(t=l().attemptFail)}return(0,n.jsx)("button",{type:"button",className:l().attemptButton+" "+t,disabled:a>b,onClick:()=>a<=b&&Q(a),tabIndex:a>b?-1:0,children:a+1},a)}),(0,n.jsxs)("button",{type:"button",className:l().attemptButton+" "+l().attemptInactive,onClick:()=>{!j&&(S(e=>e+1),R(!0),q(e=>[...e,{type:"skipped"}]),f(a("skipped")),b+1>=6&&(f("".concat(a("game_over")," ").concat(m.game," - ").concat(m.title)),y(!0)))},disabled:j||N||b>=6,children:[r?a("skip"):"Skip"," ",(0,n.jsx)(i.uE0,{style:{marginLeft:4,fontSize:"1em",verticalAlign:"middle"}})]})]}),(0,n.jsxs)("form",{onSubmit:e=>{if(e.preventDefault(),j)return;if(!p.trim()){en(!0),setTimeout(()=>en(!1),500);return}let t=ev(p);if(!s.x.some(e=>ev(e.title)===t)){f(a("select_from_list")),en(!0),setTimeout(()=>en(!1),500);return}e_(p)},className:l().guessFormModern,autoComplete:"off",children:[(0,n.jsx)("input",{ref:$,type:"text",value:p,onChange:e=>{let a=e.target.value;h(a),ef(a)},placeholder:r?a("song_input_placeholder"):"Digite o nome da m\xfasica...",disabled:j||N,className:l().guessInputModern,onBlur:()=>setTimeout(()=>D(!1),200)}),(0,n.jsx)("button",{type:"submit",disabled:j||N||!p.trim(),className:"".concat(l().guessButtonModern," ").concat(et?l().shake:""),children:r?a("guess"):"Adivinhar"}),k&&L.length>0&&(0,n.jsx)("ul",{className:l().suggestionsListModern,children:L.map(e=>(0,n.jsxs)("li",{className:l().suggestionItemModern,onMouseDown:()=>ej(e),children:[e.game," - ",e.title]},e.id))})]}),(0,n.jsx)("div",{className:l().historyBox,children:F.map((e,a)=>{var t;let o=(null==e?void 0:e.type)==="fail"&&(null==m?void 0:m.game)&&(null===(t=s.x.find(a=>a.title===e.value))||void 0===t?void 0:t.game)===m.game;return(0,n.jsxs)("div",{className:l().historyItem,children:[(null==e?void 0:e.type)==="skipped"&&(0,n.jsx)("span",{className:l().historySkipped,children:"❌ Skipped!"}),(null==e?void 0:e.type)==="fail"&&(0,n.jsxs)("span",{className:o?l().historyFailButCorrectGame:l().historyFail,children:[o?"▲":"❌"," ",e.value]}),(null==e?void 0:e.type)==="success"&&(0,n.jsxs)("span",{className:l().historySuccess,children:["✅ ",e.value]})]},a)})}),v&&(0,n.jsx)("div",{className:"".concat(l().messageModern," ").concat(N?l().error:""),children:v}),(0,n.jsxs)("div",{className:l().timerBox,children:["Novo jogo em: ",(0,n.jsx)("span",{className:l().timer,children:(e=>{let a=Math.floor(e/1e3),t=String(Math.floor(a/3600)).padStart(2,"0"),n=String(Math.floor(a%3600/60)).padStart(2,"0"),o=String(a%60).padStart(2,"0");return"".concat(t,"h ").concat(n,"m ").concat(o,"s")})(W)})]})]}),m&&(0,n.jsx)(d,{song:m,onInfoLoaded:e=>{g(e)}}),(0,n.jsx)(x,{isOpen:er,onClose:()=>el(!1)}),ed&&(0,n.jsx)("div",{className:l().sacabambapis,children:(0,n.jsx)("img",{src:"/sacabambapis.png",alt:"Sacabambapis",className:l().sacabambapisImage})})]}),(0,n.jsx)(u.Z,{})]})}},5581:function(e){e.exports={menuOverlay:"GameMenu_menuOverlay__zCZWS",fadeIn:"GameMenu_fadeIn__jRTaB",menuContainer:"GameMenu_menuContainer__9XE59",slideIn:"GameMenu_slideIn__aIjSr",closeButton:"GameMenu_closeButton__fBpE3",menuSection:"GameMenu_menuSection__fZoJN",menuSectionHeader:"GameMenu_menuSectionHeader__4CuDh",menuIcon:"GameMenu_menuIcon__YVL0h",expandIcon:"GameMenu_expandIcon__dOaeT",menuSectionContent:"GameMenu_menuSectionContent__ROKKR",expandContent:"GameMenu_expandContent__4hgXP",settingItem:"GameMenu_settingItem__RKkcR",toggleSwitch:"GameMenu_toggleSwitch__Y0ojj",slider:"GameMenu_slider__ohBX_",selectInput:"GameMenu_selectInput__S7D4u",menuLink:"GameMenu_menuLink__V8fiC",actionButton:"GameMenu_actionButton__hMq_H",submitButton:"GameMenu_submitButton__ZIjn5",errorReportForm:"GameMenu_errorReportForm__G4rgW",formGroup:"GameMenu_formGroup__hXhEc",textArea:"GameMenu_textArea__JNCrm",textInput:"GameMenu_textInput__n22WB",errorMessage:"GameMenu_errorMessage__g3aTw",successMessage:"GameMenu_successMessage__2lVAI",submitIcon:"GameMenu_submitIcon__bX4F1",menuButton:"GameMenu_menuButton__lOpSL"}},1163:function(e,a,t){e.exports=t(3035)}},function(e){e.O(0,[365,976,603,234,888,774,179],function(){return e(e.s=5557)}),_N_E=e.O()}]);