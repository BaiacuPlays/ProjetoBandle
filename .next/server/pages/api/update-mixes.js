"use strict";(()=>{var e={};e.id=77,e.ids=[77],e.modules={145:e=>{e.exports=require("next/dist/compiled/next-server/pages-api.runtime.prod.js")},1467:e=>{e.exports=import("@vercel/kv")},6249:(e,a)=>{Object.defineProperty(a,"l",{enumerable:!0,get:function(){return function e(a,i){return i in a?a[i]:"then"in a&&"function"==typeof a.then?a.then(a=>e(a,i)):"function"==typeof a&&"default"===i?a:void 0}}})},9411:(e,a,i)=>{i.a(e,async(e,n)=>{try{i.r(a),i.d(a,{config:()=>o,default:()=>c,routeModule:()=>p});var r=i(1802),m=i(7153),s=i(6249),g=i(2472),t=e([g]);g=(t.then?(await t)():t)[0];let c=(0,s.l)(g,"default"),o=(0,s.l)(g,"config"),p=new r.PagesAPIRouteModule({definition:{kind:m.x.PAGES_API,page:"/api/update-mixes",pathname:"/api/update-mixes",bundlePath:"",filename:""},userland:g});n()}catch(e){n(e)}})},94:(e,a,i)=>{i.d(a,{k:()=>n});let n=[{name:"Teemo",image:"/images/characters/teemo.png"},{name:"Veigar",image:"/images/characters/veigar.png"},{name:"Lulu",image:"/images/characters/lulu.png"},{name:"Poppy",image:"/images/characters/poppy.png"},{name:"Tristana",image:"/images/characters/tristana.png"},{name:"Kennen",image:"/images/characters/kennen.png"},{name:"Rumble",image:"/images/characters/rumble.png"},{name:"Ziggs",image:"/images/characters/ziggs.png"},{name:"Corki",image:"/images/characters/corki.png"},{name:"Heimerdinger",image:"/images/characters/heimerdinger.png"},{name:"Kled",image:"/images/characters/kled.png"},{name:"Gnar",image:"/images/characters/gnar.png"},{name:"Yuumi",image:"/images/characters/yuumi.png"},{name:"Fizz",image:"/images/characters/fizz.png"},{name:"Amumu",image:"/images/characters/amumu.png"},{name:"Annie",image:"/images/characters/annie.png"},{name:"Nunu",image:"/images/characters/nunu.png"},{name:"Zoe",image:"/images/characters/zoe.png"},{name:"Neeko",image:"/images/characters/neeko.png"},{name:"Lillia",image:"/images/characters/lillia.png"},{name:"Vex",image:"/images/characters/vex.png"},{name:"Rell",image:"/images/characters/rell.png"},{name:"Seraphine",image:"/images/characters/seraphine.png"},{name:"Gwen",image:"/images/characters/gwen.png"},{name:"Senna",image:"/images/characters/senna.png"},{name:"Qiyana",image:"/images/characters/qiyana.png"},{name:"Sylas",image:"/images/characters/sylas.png"},{name:"Pyke",image:"/images/characters/pyke.png"},{name:"Kai'Sa",image:"/images/characters/kaisa.png"},{name:"Zeri",image:"/images/characters/zeri.png"},{name:"Nilah",image:"/images/characters/nilah.png"},{name:"Bel'Veth",image:"/images/characters/belveth.png"},{name:"Renata Glasc",image:"/images/characters/renata.png"},{name:"Akshan",image:"/images/characters/akshan.png"},{name:"Viego",image:"/images/characters/viego.png"},{name:"Yone",image:"/images/characters/yone.png"},{name:"Samira",image:"/images/characters/samira.png"},{name:"Sett",image:"/images/characters/sett.png"},{name:"Aphelios",image:"/images/characters/aphelios.png"},{name:"Briar",image:"/images/characters/briar.png"},{name:"K'Sante",image:"/images/characters/ksante.png"},{name:"Milio",image:"/images/characters/milio.png"},{name:"Naafiri",image:"/images/characters/naafiri.png"},{name:"Hwei",image:"/images/characters/hwei.png"},{name:"Smolder",image:"/images/characters/smolder.png"},{name:"Ahri",image:"/images/characters/ahri.png"},{name:"Lux",image:"/images/characters/lux.png"},{name:"Jinx",image:"/images/characters/jinx.png"},{name:"Ezreal",image:"/images/characters/ezreal.png"},{name:"Yasuo",image:"/images/characters/yasuo.png"},{name:"Riven",image:"/images/characters/riven.png"}]},2472:(e,a,i)=>{i.a(e,async(e,n)=>{try{i.r(a),i.d(a,{default:()=>t});var r=i(1467),m=i(1241),s=i(94),g=e([r]);async function t(e,a){if("POST"!==e.method)return a.status(405).json({message:"Method not allowed"});try{let e=await r.kv.get("last_mix_update"),i=new Date;if(!e||0===i.getHours()&&0===i.getMinutes()&&i.getDate()!==new Date(e).getDate()){if(console.log("--- Iniciando atualiza\xe7\xe3o dos Mixes ---"),!r.kv)throw Error("KV store n\xe3o est\xe1 inicializado");if(!s.k||s.k.length<50)throw Error(`N\xe3o h\xe1 personagens suficientes. Necess\xe1rio: 50, Dispon\xedvel: ${s.k?.length||0}`);console.log("Gerando 50 personagens para cada mix...");let e=(0,m._)(s.k,50),i=(0,m._)(s.k,50),n=(0,m._)(s.k,50),g=e.map(e=>({name:e.name,image:e.image})),t=i.map(e=>({name:e.name,image:e.image})),c=n.map(e=>({name:e.name,image:e.image}));await r.kv.set("mix1_characters",g),await r.kv.set("mix2_characters",t),await r.kv.set("mix3_characters",c);let o=Date.now();return await r.kv.set("last_mix_update",o),console.log("Mixes atualizados com sucesso!"),a.status(200).json({message:"Mixes atualizados com sucesso",timestamp:o})}return a.status(200).json({message:"Mixes j\xe1 est\xe3o atualizados",timestamp:e})}catch(e){return console.error("Erro ao atualizar mixes:",e),a.status(500).json({message:"Erro ao atualizar mixes",error:e.message})}}r=(g.then?(await g)():g)[0],n()}catch(e){n(e)}})},1241:(e,a,i)=>{i.d(a,{_:()=>n});function n(e,a){if(!Array.isArray(e)||0===e.length)return console.warn("Array de origem inv\xe1lido ou vazio"),[];let i=Math.min(a,e.length);return(function(e){let a=[...e];for(let e=a.length-1;e>0;e--){let i=Math.floor(Math.random()*(e+1));[a[e],a[i]]=[a[i],a[e]]}return a})(e).slice(0,i)}},7153:(e,a)=>{var i;Object.defineProperty(a,"x",{enumerable:!0,get:function(){return i}}),function(e){e.PAGES="PAGES",e.PAGES_API="PAGES_API",e.APP_PAGE="APP_PAGE",e.APP_ROUTE="APP_ROUTE"}(i||(i={}))},1802:(e,a,i)=>{e.exports=i(145)}};var a=require("../../webpack-api-runtime.js");a.C(e);var i=a(a.s=9411);module.exports=i})();